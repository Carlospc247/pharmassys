{% extends "base.html" %}

{% block title %}Importar Dados de Fornecedores{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Importação de Fornecedores em Lote</h2>
        <a href="{% url 'fornecedores:lista' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Voltar à Lista
        </a>
    </div>

    <div class="card shadow-sm p-4">
        <h5 class="card-title text-primary"><i class="fas fa-file-import me-2"></i> Fluxo de Importação</h5>
        <hr>

        <form method="post" enctype="multipart/form-data" action="{% url 'fornecedores:importar' %}">
            {% csrf_token %}
            
            <div class="mb-3">
                <label for="id_arquivo" class="form-label fw-bold">Selecionar Ficheiro (CSV ou XLSX)</label>
                <input type="file" class="form-control" id="id_arquivo" name="arquivo_fornecedores" required 
                       accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                <div class="form-text">
                    O ficheiro deve ser no formato CSV ou XLSX.
                </div>
            </div>

            <div class="alert alert-info small mt-3">
                **Requisito de Integridade de Dados:** O ficheiro deve conter, no mínimo, as colunas `NIF/BI` (para identificação única) e `Razão Social`. Os cabeçalhos de coluna devem corresponder exatamente aos campos do sistema.
                <a href="{% url 'fornecedores:exportar' %}" class="alert-link ms-2">Baixar Template de Exportação</a>.
            </div>

            <div class="d-grid gap-2 mt-4">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-upload me-2"></i> Iniciar Processamento
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}