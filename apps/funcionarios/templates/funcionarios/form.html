{% extends "base.html" %}

{% block content %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5',
                        secondary: '#10B981',
                    }
                }
            }
        }
    </script>
    <style>
        .form-section {
            transition: all 0.3s ease;
        }
        .form-section:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        input, select {
            transition: border-color 0.3s ease;
        }
        input:focus, select:focus {
            border-color: #4F46E5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <div class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-3xl font-bold text-gray-800">
                    {% if object %}Editar Funcionário{% else %}Novo Funcionário{% endif %}
                </h1>
                <p class="text-gray-600 mt-1">Preencha os dados do funcionário abaixo</p>
            </div>
            <a href="{% url 'funcionarios:funcionarios' %}" class="flex items-center text-primary-600 hover:text-primary-800">
                <i data-feather="arrow-left" class="mr-2"></i> Voltar
            </a>
        </div>

        <div class="bg-white rounded-xl shadow-md overflow-hidden">
            <form method="post" class="p-6">
                {% csrf_token %}
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Dados Pessoais -->
                    <div class="form-section p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i data-feather="user" class="mr-2"></i> Dados Pessoais
                        </h2>
                        <div class="space-y-4">
                            <div>
                                <label for="{{ form.nome_completo.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                                {{ form.nome_completo }}
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="{{ form.bi.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">BI</label>
                                    {{ form.bi }}
                                </div>
                                <div>
                                    <label for="{{ form.data_nascimento.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Nascimento</label>
                                    {{ form.data_nascimento }}
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="{{ form.sexo.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Sexo</label>
                                    {{ form.sexo }}
                                </div>
                                <div>
                                    <label for="{{ form.estado_civil.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Estado Civil</label>
                                    {{ form.estado_civil }}
                                </div>
                            </div>
                            
                            <div>
                                <label for="{{ form.escolaridade.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Escolaridade</label>
                                {{ form.escolaridade }}
                            </div>
                        </div>
                    </div>

                    <!-- Endereço -->
                    <div class="form-section p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i data-feather="home" class="mr-2"></i> Endereço
                        </h2>
                        <div class="space-y-4">
                            <div>
                                <label for="{{ form.endereco.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Endereço</label>
                                {{ form.endereco }}
                            </div>
                            
                            <div class="grid grid-cols-3 gap-4">
                                <div>
                                    <label for="{{ form.numero.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Número</label>
                                    {{ form.numero }}
                                </div>
                                <div class="col-span-2">
                                    <label for="{{ form.bairro.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Bairro</label>
                                    {{ form.bairro }}
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="{{ form.cidade.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Cidade</label>
                                    {{ form.cidade }}
                                </div>
                                <div>
                                    <label for="{{ form.provincia.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Província</label>
                                    {{ form.provincia }}
                                </div>
                            </div>
                            
                            <div>
                                <label for="{{ form.postal.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Código Postal</label>
                                {{ form.postal }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Contato -->
                    <div class="form-section p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i data-feather="phone" class="mr-2"></i> Contato
                        </h2>
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="{{ form.telefone.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Telefone</label>
                                    {{ form.telefone }}
                                </div>
                                <div>
                                    <label for="{{ form.whatsapp.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">WhatsApp</label>
                                    {{ form.whatsapp }}
                                </div>
                            </div>
                            
                            <div>
                                <label for="{{ form.email_pessoal.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Email Pessoal</label>
                                {{ form.email_pessoal }}
                            </div>
                            
                            <div>
                                <label for="{{ form.email_corporativo.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Email Corporativo</label>
                                {{ form.email_corporativo }}
                            </div>
                        </div>
                    </div>

                    <!-- Dados Profissionais -->
                    <div class="form-section p-6 rounded-lg border border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                            <i data-feather="briefcase" class="mr-2"></i> Dados Profissionais
                        </h2>
                        <div class="space-y-4">
                            <div>
                                <label for="{{ form.cargo.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Cargo</label>
                                {{ form.cargo }}
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="{{ form.departamento.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Departamento</label>
                                    {{ form.departamento }}
                                </div>
                                <div>
                                    <label for="{{ form.loja_principal.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Loja Principal</label>
                                    {{ form.loja_principal }}
                                </div>
                            </div>
                            
                            <div>
                                <label for="{{ form.supervisor.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Supervisor</label>
                                {{ form.supervisor }}
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="{{ form.tipo_contrato.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Tipo de Contrato</label>
                                    {{ form.tipo_contrato }}
                                </div>
                                <div>
                                    <label for="{{ form.data_admissao.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Data de Admissão</label>
                                    {{ form.data_admissao }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 form-section p-6 rounded-lg border border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 flex items-center">
                        <i data-feather="dollar-sign" class="mr-2"></i> Benefícios
                    </h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <label for="{{ form.salario_atual.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Salário Atual</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <span class="text-gray-500"></span>
                                </div>
                                {{ form.salario_atual }}
                            </div>
                        </div>
                        <div>
                            <label for="{{ form.vale_alimentacao.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Vale Alimentação</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <span class="text-gray-500"></span>
                                </div>
                                {{ form.vale_alimentacao }}
                            </div>
                        </div>
                        <div>
                            <label for="{{ form.vale_transporte.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">Vale Transporte</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <span class="text-gray-500"></span>
                                </div>
                                {{ form.vale_transporte }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-4 flex justify-end space-x-3">
                    <a href="{% url 'funcionarios:funcionarios' %}" class="px-6 py-2 border text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-red-200">
                        Cancelar
                    </a>
                    <button type="submit" class="px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                        <i data-feather="save" class="mr-2"></i> Salvar
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        feather.replace();
        
        // Add Tailwind classes to form elements
        document.querySelectorAll('input, select').forEach(el => {
            el.classList.add('block', 'w-full', 'rounded-md', 'border-gray-300', 'shadow-sm', 'focus:border-primary-500', 'focus:ring-primary-500', 'py-2', 'px-3', 'border');
        });
        
        // Add specific classes to select elements
        document.querySelectorAll('select').forEach(el => {
            el.classList.add('bg-white');
        });
    </script>
</body>
{% endblock %}